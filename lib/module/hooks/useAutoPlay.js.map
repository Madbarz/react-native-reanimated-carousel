{"version":3,"sources":["useAutoPlay.ts"],"names":["React","useAutoPlay","opts","autoPlay","autoPlayReverse","autoPlayInterval","autoPlayDelay","carouselController","timer","useRef","pause","useCallback","current","clearInterval","run","setInterval","prev","next","useEffect"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAGA,OAAO,SAASC,WAAT,CAAqBC,IAArB,EAMJ;AACC,QAAM;AACFC,IAAAA,QAAQ,GAAG,KADT;AAEFC,IAAAA,eAAe,GAAG,KAFhB;AAGFC,IAAAA,gBAHE;AAIFC,IAAAA,aAJE;AAKFC,IAAAA;AALE,MAMFL,IANJ;AAQA,QAAMM,KAAK,GAAGR,KAAK,CAACS,MAAN,EAAd;AAEA,QAAMC,KAAK,GAAGV,KAAK,CAACW,WAAN,CAAkB,MAAM;AAClCH,IAAAA,KAAK,CAACI,OAAN,IAAiBC,aAAa,CAACL,KAAK,CAACI,OAAP,CAA9B;AACH,GAFa,EAEX,EAFW,CAAd;AAIA,QAAME,GAAG,GAAGd,KAAK,CAACW,WAAN,CAAkB,MAAM;AAChC,QAAIH,KAAK,CAACI,OAAV,EAAmB;AACfF,MAAAA,KAAK;AACR;;AAED,QAAI,CAACP,QAAL,EAAe;AACX;AACH;;AAEDK,IAAAA,KAAK,CAACI,OAAN,GAAgBG,WAAW,CAAC,MAAM;AAC9BX,MAAAA,eAAe,GACTG,kBAAkB,CAACS,IAAnB,EADS,GAETT,kBAAkB,CAACU,IAAnB,EAFN;AAGH,KAJ0B,EAIxBX,aAJwB,CAA3B;AAKH,GAdW,EAcT,CACCI,KADD,EAECP,QAFD,EAGCC,eAHD,EAICC,gBAJD,EAKCC,aALD,EAMCC,kBAND,CAdS,CAAZ;AAuBAP,EAAAA,KAAK,CAACkB,SAAN,CAAgB,MAAM;AAClB,QAAIf,QAAJ,EAAc;AACVW,MAAAA,GAAG;AACN,KAFD,MAEO;AACHJ,MAAAA,KAAK;AACR;;AACD,WAAOA,KAAP;AACH,GAPD,EAOG,CAACI,GAAD,EAAMJ,KAAN,EAAaP,QAAb,CAPH;AASA,SAAO;AACHW,IAAAA,GADG;AAEHJ,IAAAA;AAFG,GAAP;AAIH","sourcesContent":["import * as React from 'react';\nimport type { ICarouselController } from './useCarouselController';\n\nexport function useAutoPlay(opts: {\n    autoPlay?: boolean;\n    autoPlayInterval?: number;\n    autoPlayReverse?: boolean;\n    carouselController: ICarouselController;\n    autoPlayDelay: number;\n}) {\n    const {\n        autoPlay = false,\n        autoPlayReverse = false,\n        autoPlayInterval,\n        autoPlayDelay,\n        carouselController,\n    } = opts;\n\n    const timer = React.useRef<NodeJS.Timer>();\n\n    const pause = React.useCallback(() => {\n        timer.current && clearInterval(timer.current);\n    }, []);\n\n    const run = React.useCallback(() => {\n        if (timer.current) {\n            pause();\n        }\n\n        if (!autoPlay) {\n            return;\n        }\n\n        timer.current = setInterval(() => {\n            autoPlayReverse\n                ? carouselController.prev()\n                : carouselController.next();\n        }, autoPlayDelay);\n    }, [\n        pause,\n        autoPlay,\n        autoPlayReverse,\n        autoPlayInterval,\n        autoPlayDelay,\n        carouselController,\n    ]);\n\n    React.useEffect(() => {\n        if (autoPlay) {\n            run();\n        } else {\n            pause();\n        }\n        return pause;\n    }, [run, pause, autoPlay]);\n\n    return {\n        run,\n        pause,\n    };\n}\n"]}